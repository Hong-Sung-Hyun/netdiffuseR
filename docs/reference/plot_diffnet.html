<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot the diffusion process — plot_diffnet • netdiffuseR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Plot the diffusion process — plot_diffnet" />

<meta property="og:description" content="Creates a colored network plot showing the structure of the graph through time
(one network plot for each time period)  and the set of adopter and non-adopters
in the network." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netdiffuseR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.19.999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/analyzing-medical-innovation-data.html">netdiffuseR showcase: Medical Innovations</a>
    </li>
    <li>
      <a href="../articles/introduction-to-netdiffuser.html">Simulating diffusion networks: Using the `rdiffnet` function</a>
    </li>
    <li>
      <a href="../articles/not-lost-in-translation-importing-and-exporting-graphs.html">Not-Lost in translation: Getting diffusion data into netdiffuseR</a>
    </li>
    <li>
      <a href="../articles/time_discount_suscep_infect.html">Time Discounted Infection and Susceptibility</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCCANA/netdiffuseR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot the diffusion process</h1>
    <small class="dont-index">Source: <a href='https://github.com/USCCANA/netdiffuseR/blob/master/R/diffnet-methods.r'><code>R/diffnet-methods.r</code></a></small>
    <div class="hidden name"><code>plot_diffnet.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Creates a colored network plot showing the structure of the graph through time
(one network plot for each time period)  and the set of adopter and non-adopters
in the network.</p>
    
    </div>

    <pre class="usage"><span class='fu'>plot_diffnet</span>(<span class='no'>...</span>)

<span class='co'># S3 method for diffnet</span>
<span class='fu'>plot_diffnet</span>(<span class='no'>graph</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>plot_diffnet</span>(<span class='no'>graph</span>, <span class='no'>cumadopt</span>, <span class='kw'>slices</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vertex.color</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"white"</span>, <span class='st'>"tomato"</span>, <span class='st'>"steelblue"</span>),
  <span class='kw'>vertex.shape</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"square"</span>, <span class='st'>"circle"</span>, <span class='st'>"circle"</span>), <span class='kw'>vertex.size</span> <span class='kw'>=</span> <span class='st'>"degree"</span>,
  <span class='kw'>mfrow.par</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Network in period %s"</span>, <span class='st'>"Diffusion Network"</span>),
  <span class='kw'>legend.args</span> <span class='kw'>=</span> <span class='fu'>list</span>(),
  <span class='kw'>minmax.relative.size</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"diffnet.minmax.relative.size"</span>, <span class='fu'>c</span>(<span class='fl'>0.01</span>,
  <span class='fl'>0.04</span>)), <span class='kw'>background</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Further arguments to be passed to <code><a href='http://www.rdocumentation.org/packages/igraph/topics/plot.igraph'>plot.igraph</a></code>.</p></td>
    </tr>
    <tr>
      <th>graph</th>
      <td><p>A dynamic graph (see <code><a href='netdiffuseR-graphs.html'>netdiffuseR-graphs</a></code>).</p></td>
    </tr>
    <tr>
      <th>cumadopt</th>
      <td><p>\(n\times T\) matrix.</p></td>
    </tr>
    <tr>
      <th>slices</th>
      <td><p>Integer vector. Indicates what slices to plot. By default all are plotted.</p></td>
    </tr>
    <tr>
      <th>vertex.color</th>
      <td><p>A character vector of size 3 with colors names.</p></td>
    </tr>
    <tr>
      <th>vertex.shape</th>
      <td><p>A character vector of size 3 with shape names.</p></td>
    </tr>
    <tr>
      <th>vertex.size</th>
      <td><p>Either a numeric scalar or vector of size \(n\), or any
of the following values: "indegree", "degree", or "outdegree" (see details).</p></td>
    </tr>
    <tr>
      <th>mfrow.par</th>
      <td><p>Vector of size 2 with number of rows and columns to be passed to <code>par.</code></p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>Character scalar. A title template to be passed to <code>sprintf.</code></p></td>
    </tr>
    <tr>
      <th>legend.args</th>
      <td><p>List of arguments to be passed to <code>legend</code>.</p></td>
    </tr>
    <tr>
      <th>minmax.relative.size</th>
      <td><p>Passed to <code><a href='rescale_vertex_igraph.html'>rescale_vertex_igraph</a></code>.</p></td>
    </tr>
    <tr>
      <th>background</th>
      <td><p>Either a function to be called before plotting each slice, a color
to specify the backgroupd color, or <code>NULL</code> (in which case nothing is done).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Calculated coordinates for the grouped graph (invisible).</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Plotting is done via the function <code><a href='http://www.rdocumentation.org/packages/igraph/topics/plot.igraph'>plot.igraph</a></code>.</p>
<p>When <code>vertex.size</code> is either of <code>"degree"</code>, <code>"indegree"</code>, or
<code>"outdegree"</code>, <code>vertex.size</code> will be replace with <code><a href='dgr.html'>dgr(.,cmode = )</a></code>
so that the vertex size reflects the desired degree.</p>
<p>The argument <code>minmax.relative.size</code> is passed to <code><a href='rescale_vertex_igraph.html'>rescale_vertex_igraph</a></code>
which adjusts <code>vertex.size</code> so that the largest and smallest vertices
have a relative size of <code>minmax.relative.size[2]</code> and
<code>minmax.relative.size[1]</code> respectively with respect to the x-axis.</p>
<p>Plotting is done via the function <code><a href='http://www.rdocumentation.org/packages/igraph/topics/plot.igraph'>plot.igraph</a></code>.</p>
<p>In order to center the attention on the diffusion process itself, the
positions of each vertex are computed only once by aggregating the networks
through time, this is, instead of computing the layout for each time \(t\),
the function creates a new graph accumulating links through time.</p>
<p>The <code>mfrow.par</code> sets how to arrange the plots on the device. If \(T=5\)
and <code>mfrow.par=c(2,3)</code>, the first three networks will be in the top
of the device and the last two in the bottom.</p>
<p>The argument <code>vertex.color</code> contains the colors of non-adopters, new-adopters,
and adopters respectively. The new adopters (default color <code>"tomato"</code>) have a different
color that the adopters when the graph is at their time of adoption, hence,
when the graph been plotted is in \(t=2\) and \(toa=2\) the vertex will
be plotted in red.</p>
<p><code>legend.args</code> has the following default parameter:</p><table class='table'>
<tr><td><code>x</code></td><td><code>"bottom"</code></td></tr>
<tr><td><code>legend</code></td><td><code>c("Non adopters", "New adopters","Adopters")</code></td></tr>
<tr><td><code>pch</code></td><td><code>sapply(vertex.shape, switch, circle = 21, square = 22, 21)</code></td></tr>
<tr><td><code>bty</code></td><td><code>"n"</code></td></tr>
<tr><td><code>horiz</code></td><td><code>TRUE</code></td></tr>
<tr><td></td><td><code>x</code></td></tr>
</table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other visualizations: <code><a href='dgr.html'>dgr</a></code>,
  <code><a href='diffusionMap.html'>diffusionMap</a></code>, <code><a href='drawColorKey.html'>drawColorKey</a></code>,
  <code><a href='grid_distribution.html'>grid_distribution</a></code>,
  <code><a href='hazard_rate.html'>hazard_rate</a></code>, <code><a href='plot_adopters.html'>plot_adopters</a></code>,
  <code><a href='plot_diffnet2.html'>plot_diffnet2</a></code>,
  <code><a href='plot_infectsuscep.html'>plot_infectsuscep</a></code>,
  <code><a href='plot_threshold.html'>plot_threshold</a></code>,
  <code><a href='rescale_vertex_igraph.html'>rescale_vertex_igraph</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Generating a random graph</span>
<span class='fu'>set.seed</span>(<span class='fl'>1234</span>)
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>6</span>
<span class='no'>nper</span> <span class='kw'>&lt;-</span> <span class='fl'>5</span>
<span class='no'>graph</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rgraph_er.html'>rgraph_er</a></span>(<span class='no'>n</span>,<span class='no'>nper</span>, <span class='kw'>p</span><span class='kw'>=</span><span class='fl'>.3</span>, <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>toa</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='fl'>2000</span>:(<span class='fl'>2000</span>+<span class='no'>nper</span>-<span class='fl'>1</span>), <span class='no'>n</span>, <span class='fl'>TRUE</span>)
<span class='no'>adopt</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='toa_mat.html'>toa_mat</a></span>(<span class='no'>toa</span>)

<span class='fu'>plot_diffnet</span>(<span class='no'>graph</span>, <span class='no'>adopt</span>$<span class='no'>cumadopt</span>)</div><div class='img'><img src='plot_diffnet-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
George G. Vega Yon

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by George Vega Yon, Thomas Valente.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

