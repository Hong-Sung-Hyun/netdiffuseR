<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysis of Diffusion and Contagion Processes on Networks • netdiffuseR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Analysis of Diffusion and Contagion Processes on Networks">
<meta property="og:description" content="Empirical statistical analysis, visualization and simulation of
    diffusion and contagion processes on networks. The package implements algorithms
    for calculating network diffusion statistics such as transmission rate, hazard
    rates, exposure models, network threshold levels, infectiousness (contagion),
    and susceptibility. The package is inspired by work published in Valente,
    et al., (2015) &lt;DOI:10.1016/j.socscimed.2015.10.001&gt;; Valente (1995) &lt;ISBN:
    9781881303213&gt;, Myers (2000) &lt;DOI:10.1086/303110&gt;, Iyengar and others (2011)
    &lt;DOI:10.1287/mksc.1100.0566&gt;, Burt (1987) &lt;DOI:10.1086/228667&gt;; among others.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">netdiffuseR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.19.999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/analyzing-medical-innovation-data.html">netdiffuseR showcase: Medical Innovations</a>
    </li>
    <li>
      <a href="articles/introduction-to-netdiffuser.html">Simulating diffusion networks: Using the `rdiffnet` function</a>
    </li>
    <li>
      <a href="articles/not-lost-in-translation-importing-and-exporting-graphs.html">Not-Lost in translation: Getting diffusion data into netdiffuseR</a>
    </li>
    <li>
      <a href="articles/time_discount_suscep_infect.html">Time Discounted Infection and Susceptibility</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/USCCANA/netdiffuseR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    

<p>This package contains functions useful for analyzing network data for diffusion of innovations applications.</p>
<p>The package was developed as part of the paper Thomas W. Valente, Stephanie R. Dyal, Kar-Hai Chu, Heather Wipfli, Kayo Fujimoto, <em>Diffusion of innovations theory applied to global tobacco control treaty ratification</em>, Social Science &amp; Medicine, Volume 145, November 2015, Pages 89-97, ISSN 0277-9536 (available <a href="http://www.sciencedirect.com/science/article/pii/S027795361530143X">here</a>)</p>
<p>From the description:</p>
<blockquote>
<p>Empirical statistical analysis, visualization and simulation of diffusion and contagion processes on networks. The package implements algorithms for calculating network diffusion statistics such as transmission rate, hazard rates, exposure models, network threshold levels, infectiousness (contagion), and susceptibility. The package is inspired by work published in Valente, et al., (2015) <a href="DOI:10.1016/j.socscimed.2015.10.001" class="uri">DOI:10.1016/j.socscimed.2015.10.001</a>; Valente (1995) <a href="ISBN:9781881303213" class="uri">ISBN:9781881303213</a>, Myers (2000) <a href="DOI:10.1086/303110" class="uri">DOI:10.1086/303110</a>, Iyengar and others (2011) <a href="DOI:10.1287/mksc.1100.0566" class="uri">DOI:10.1287/mksc.1100.0566</a>, Burt (1987) <a href="DOI:10.1086/228667" class="uri">DOI:10.1086/228667</a>; among others.</p>
</blockquote>
<p><strong>Acknowledgements</strong>: netdiffuseR was created with the support of grant R01 CA157577 from the National Cancer Institute/National Institutes of Health.</p>
<div id="news" class="section level2">
<h2 class="hasAnchor">
<a href="#news" class="anchor"></a>News</h2>
<p>Changelog can be view <a href="NEWS.html">here</a>.</p>
<ul>
<li>[2016-06-02] A video of the <strong>netdiffuseR</strong> workshop at SUNBELT 2016 is now online on <a href="https://www.youtube.com/playlist?list=PLT-GgRN1lFI4coHDqkRJm3flDw9e1gg2P">youtube</a>, and the workshop materials can be found <a href="https://github.com/USCCANA/netdiffuseR/tree/master/doc/conferences/20160400_sunbelt2016/">here</a>
</li>
<li>[2016-04-11] <strong>netdiffuseR</strong> will be on <a href="http://user2016.org">useR! 2016</a> on as a presentation and on <a href="http://www.kellogg.northwestern.edu/news-events/conference/ic2s2/2016.aspx">IC2S2 2016</a> in the posters session.</li>
<li>[2016-03-16] Next CRAN release scheduled for April 11th 2016 (after the workshop).</li>
<li>[2016-02-18] <strong>netdiffuseR</strong> vers 1.16.2 is now on CRAN!</li>
<li>[2016-02-18] We will be offering a workshop at the 2016 SUNBELT Conference (checkout the full list of workshops <a href="http://insna.org/sunbelt2016/program/">here</a>).</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="cran-version" class="section level3">
<h3 class="hasAnchor">
<a href="#cran-version" class="anchor"></a>CRAN version</h3>
<p>To get the CRAN (stable) version of the package, simple type</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"netdiffuseR"</span>)</code></pre></div>
</div>
<div id="bleeding-edge-version" class="section level3">
<h3 class="hasAnchor">
<a href="#bleeding-edge-version" class="anchor"></a>Bleeding edge version</h3>
<p>If you want the latest (unstable) version of <strong>netdiffuseR</strong>, using the <code>devtools</code> package, you can install <code>netdiffuseR</code> dev version as follows</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">'USCCANA/netdiffuseR'</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>You can skip building vignettes by setting <code>build_vignettes = FALSE</code> (so it is not required).</p>
<p>For the case of OSX users, there seems to be a problem when installing packages depending on <code>Rcpp</code>. This issue, developed <a href="https://github.com/USCCANA/netdiffuseR/issues/3">here</a>, can be solved by open the terminal and typing the following</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">curl</span> -O http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2
<span class="fu">sudo</span> tar fvxz gfortran-4.8.2-darwin13.tar.bz2 -C /</code></pre></div>
<p>before installing the package through <code>devtools</code>.</p>
</div>
<div id="binary-versions" class="section level3">
<h3 class="hasAnchor">
<a href="#binary-versions" class="anchor"></a>Binary versions</h3>
<p>For the case of windows and mac users, they can find binary versions of the package <a href="https://github.com/USCCANA/netdiffuseR/releases">here</a>, netdiffuseR_1…zip, and netdiffuseR_1…tgz respectively. They can install this directly as follows (using the 1.16.3.29 version):</p>
<ol style="list-style-type: decimal">
<li>
<p>Install dependencies from CRAN</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">"igraph"</span>, <span class="st">"Matrix"</span>, <span class="st">"SparseM"</span>, <span class="st">"RcppArmadillo"</span>, <span class="st">"sna"</span>), <span class="dt">dependencies=</span><span class="ot">TRUE</span>)</code></pre></div>
</li>
<li>
<p>Download the binary version and install it as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">install.packages</span>(<span class="st">"netdiffuseR_1.16.3.29.zip"</span>, <span class="dt">repos=</span><span class="ot">NULL</span>)</code></pre></div>
<p>For windows users, and for Mac users:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">install.packages</span>(<span class="st">"netdiffuseR_1.16.3.29.tgz"</span>, <span class="dt">repos=</span><span class="ot">NULL</span>)</code></pre></div>
</li>
</ol>
</div>
</div>
<div id="tutorials" class="section level2">
<h2 class="hasAnchor">
<a href="#tutorials" class="anchor"></a>Tutorials</h2>
<p>Since starting netdiffuseR, we have done a couple of workshops at Sunbelt and NASN. Here are the repositories:</p>
<ul>
<li>Sunbelt 2018: <a href="https://USCCANA.github.io/netdiffuser-sunbelt2018" class="uri">https://USCCANA.github.io/netdiffuser-sunbelt2018</a> (<a href="https://github.com/USCCANA/netdiffuser-sunbelt2018">source code</a>)</li>
<li>NASN 2017: <a href="https://USCCANA.github.io/netdiffuser-nasn2017" class="uri">https://USCCANA.github.io/netdiffuser-nasn2017</a> (<a href="https://github.com/USCCANA/netdiffuser-nasn2017">source code</a>)</li>
<li>Sunbelt 2016: <a href="https://github.com/USCCANA/netdiffuser-sunbelt2016" class="uri">https://github.com/USCCANA/netdiffuser-sunbelt2016</a>
</li>
</ul>
</div>
<div id="presentations" class="section level2">
<h2 class="hasAnchor">
<a href="#presentations" class="anchor"></a>Presentations</h2>
<ul>
<li>ic2s2 2016 Evanston, IL: <a href="https://github.com/USCCANA/netdiffuser-ic2s22016" class="uri">https://github.com/USCCANA/netdiffuser-ic2s22016</a> (poster)</li>
<li>useR! 2016 Stanford, CA: <a href="https://github.com/USCCANA/netdiffuser-user2016" class="uri">https://github.com/USCCANA/netdiffuser-user2016</a> (slides)</li>
<li>useR! 2016: <a href="https://github.com/USCCANA/netdiffuser-user2016" class="uri">https://github.com/USCCANA/netdiffuser-user2016</a>
</li>
</ul>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>This example has been taken from the package’s vignettes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(netdiffuseR)</code></pre></div>
<pre><code>## 
## Attaching package: 'netdiffuseR'</code></pre>
<pre><code>## The following object is masked from 'package:base':
## 
##     %*%</code></pre>
<div id="infectiousness-and-susceptibility" class="section level3">
<h3 class="hasAnchor">
<a href="#infectiousness-and-susceptibility" class="anchor"></a>Infectiousness and Susceptibility</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Generating a random graph</span>
<span class="kw">set.seed</span>(<span class="dv">1234</span>)
n &lt;-<span class="st"> </span><span class="dv">100</span>
nper &lt;-<span class="st"> </span><span class="dv">20</span>
graph &lt;-<span class="st"> </span><span class="kw"><a href="reference/rgraph_er.html">rgraph_er</a></span>(n, nper, .<span class="dv">5</span>)
toa &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span>(<span class="dv">1</span><span class="op">+</span>nper<span class="op">-</span><span class="dv">1</span>), <span class="ot">NA</span>), n, <span class="ot">TRUE</span>)
<span class="kw">head</span>(toa)</code></pre></div>
<pre><code>## [1] 20  7  9  1 17 14</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Creating a diffnet object</span>
diffnet &lt;-<span class="st"> </span><span class="kw"><a href="reference/diffnet-class.html">as_diffnet</a></span>(graph, toa)
diffnet</code></pre></div>
<pre><code>## Dynamic network of class -diffnet-
##  Name               : Diffusion Network
##  Behavior           : Unspecified
##  # of nodes         : 100 (1, 2, 3, 4, 5, 6, 7, 8, ...)
##  # of time periods  : 20 (1 - 20)
##  Type               : directed
##  Final prevalence   : 0.95
##  Static attributes  : -
##  Dynamic attributes : -</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(diffnet)</code></pre></div>
<pre><code>## Diffusion network summary statistics
## Name     : Diffusion Network
## Behavior : Unspecified
## -----------------------------------------------------------------------------
##  Period   Adopters   Cum Adopt. (%)   Hazard Rate   Density   Moran's I (sd)  
## -------- ---------- ---------------- ------------- --------- ---------------- 
##        1          3         3 (0.03)             -      0.50 -0.01 (0.00)     
##        2          8        11 (0.11)          0.08      0.50 -0.01 (0.00)     
##        3          4        15 (0.15)          0.04      0.51 -0.00 (0.00) *   
##        4          1        16 (0.16)          0.01      0.49 -0.01 (0.00)     
##        5          2        18 (0.18)          0.02      0.50 -0.01 (0.00)     
##        6          5        23 (0.23)          0.06      0.50 -0.01 (0.00)     
##        7          6        29 (0.29)          0.08      0.51 -0.01 (0.00)     
##        8          1        30 (0.30)          0.01      0.50 -0.01 (0.00)     
##        9          6        36 (0.36)          0.09      0.50 -0.01 (0.00)     
##       10          5        41 (0.41)          0.08      0.49 -0.01 (0.00)     
##       11          2        43 (0.43)          0.03      0.50 -0.02 (0.00) **  
##       12          6        49 (0.49)          0.11      0.50 -0.01 (0.00)     
##       13          4        53 (0.53)          0.08      0.50 -0.01 (0.00)     
##       14          7        60 (0.60)          0.15      0.50 -0.01 (0.00)     
##       15          7        67 (0.67)          0.17      0.50 -0.01 (0.00)     
##       16          3        70 (0.70)          0.09      0.50 -0.01 (0.00)     
##       17         10        80 (0.80)          0.33      0.49 -0.01 (0.00)     
##       18          4        84 (0.84)          0.20      0.50 -0.01 (0.00)     
##       19          2        86 (0.86)          0.12      0.50 -0.01 (0.00)     
##       20          9        95 (0.95)          0.64      0.50 -0.01 (0.00)     
## -----------------------------------------------------------------------------
##  Left censoring  : 0.03 (3)
##  Right centoring : 0.05 (5)
##  # of nodes      : 100
## 
##  Moran's I was computed on contemporaneous autocorrelation using 1/geodesic
##  values. Significane levels  *** &lt;= .01, ** &lt;= .05, * &lt;= .1.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Visualizing distribution of suscep/infect</span>
out &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_infectsuscep.html">plot_infectsuscep</a></span>(diffnet, <span class="dt">bins =</span> <span class="dv">20</span>,<span class="dt">K=</span><span class="dv">5</span>, <span class="dt">logscale =</span> <span class="ot">FALSE</span>, <span class="dt">h=</span>.<span class="dv">01</span>)</code></pre></div>
<p><img src="index_files/figure-html/plot_infectsuscept-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">out &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_infectsuscep.html">plot_infectsuscep</a></span>(diffnet, <span class="dt">bins =</span> <span class="dv">20</span>,<span class="dt">K=</span><span class="dv">5</span>, <span class="dt">logscale =</span> <span class="ot">TRUE</span>,
                         <span class="dt">exclude.zeros =</span> <span class="ot">TRUE</span>, <span class="dt">h=</span><span class="dv">1</span>,
                         <span class="dt">color.palette =</span> <span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="st">"lightblue"</span>, <span class="st">"yellow"</span>, <span class="st">"red"</span>)))</code></pre></div>
<pre><code>## Warning in plot_infectsuscep.list(graph$graph, graph$toa, t0, normalize, :
## When applying logscale some observations are missing.</code></pre>
<p><img src="index_files/figure-html/plot_infectsuscept-2.png" width="700"></p>
</div>
<div id="threshold" class="section level3">
<h3 class="hasAnchor">
<a href="#threshold" class="anchor"></a>Threshold</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Generating a random graph</span>
<span class="kw">set.seed</span>(<span class="dv">123</span>)
diffnet &lt;-<span class="st"> </span><span class="kw"><a href="reference/rdiffnet.html">rdiffnet</a></span>(<span class="dv">500</span>, <span class="dv">20</span>,
                    <span class="dt">seed.nodes =</span> <span class="st">"random"</span>,
                    <span class="dt">rgraph.args =</span> <span class="kw">list</span>(<span class="dt">m=</span><span class="dv">3</span>),
                    <span class="dt">threshold.dist =</span> <span class="cf">function</span>(x) <span class="kw">runif</span>(<span class="dv">1</span>, .<span class="dv">3</span>, .<span class="dv">7</span>))
diffnet</code></pre></div>
<pre><code>## Dynamic network of class -diffnet-
##  Name               : A diffusion network
##  Behavior           : Random contagion
##  # of nodes         : 500 (1, 2, 3, 4, 5, 6, 7, 8, ...)
##  # of time periods  : 20 (1 - 20)
##  Type               : directed
##  Final prevalence   : 0.60
##  Static attributes  : real_threshold (1)
##  Dynamic attributes : -</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Threshold with fixed vertex size</span>
<span class="kw"><a href="reference/plot_threshold.html">plot_threshold</a></span>(diffnet)</code></pre></div>
<p><img src="index_files/figure-html/BoringThreshold,%20plot_threshold-1.png" width="700"></p>
<p>Using more features</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">"medInnovationsDiffNet"</span>)
<span class="kw">set.seed</span>(<span class="dv">131</span>)
<span class="kw"><a href="reference/plot_threshold.html">plot_threshold</a></span>(
  medInnovationsDiffNet,
  <span class="dt">vertex.color     =</span> <span class="kw">c</span>(<span class="st">"tomato"</span>, <span class="st">"steelblue"</span>, <span class="st">"black"</span>, <span class="st">"gray"</span>)[medInnovationsDiffNet[[<span class="st">"city"</span>]]],
  <span class="dt">vertex.sides     =</span> medInnovationsDiffNet[[<span class="st">"city"</span>]] <span class="op">+</span><span class="st"> </span><span class="dv">2</span>,
  <span class="dt">sub =</span> <span class="st">"Note: Vertices' sizes and shapes given by degree and city respectively"</span>,
  <span class="dt">jitter.factor =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="dt">jitter.amount =</span> <span class="kw">c</span>(.<span class="dv">25</span>,.<span class="dv">025</span>)
)</code></pre></div>
<pre><code>## Warning in (function (graph, expo, toa, include_censored = FALSE, t0 =
## min(toa, : -vertex.sides- will be coerced to integer.</code></pre>
<p><img src="index_files/figure-html/NiceThreshold-1.png" width="700"></p>
</div>
<div id="adoption-rate" class="section level3">
<h3 class="hasAnchor">
<a href="#adoption-rate" class="anchor"></a>Adoption rate</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_adopters.html">plot_adopters</a></span>(diffnet)</code></pre></div>
<p><img src="index_files/figure-html/Adopters-1.png" width="700"></p>
</div>
<div id="hazard-rate" class="section level3">
<h3 class="hasAnchor">
<a href="#hazard-rate" class="anchor"></a>Hazard rate</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/hazard_rate.html">hazard_rate</a></span>(diffnet)</code></pre></div>
<p><img src="index_files/figure-html/Hazard-1.png" width="700"></p>
</div>
<div id="diffusion-process" class="section level3">
<h3 class="hasAnchor">
<a href="#diffusion-process" class="anchor"></a>Diffusion process</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_diffnet.html">plot_diffnet</a></span>(medInnovationsDiffNet, <span class="dt">slices=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">8</span>))</code></pre></div>
<p><img src="index_files/figure-html/plot_diffnet-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/diffnet-class.html">diffnet.toa</a></span>(brfarmersDiffNet)[brfarmersDiffNet<span class="op">$</span>toa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">1965</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>
<span class="kw"><a href="reference/plot_diffnet2.html">plot_diffnet2</a></span>(brfarmersDiffNet, <span class="dt">vertex.size =</span> <span class="st">"indegree"</span>)</code></pre></div>
<p><img src="index_files/figure-html/plot_diffnet2-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1231</span>)

<span class="co"># Random scale-free diffusion network</span>
x &lt;-<span class="st"> </span><span class="kw"><a href="reference/rdiffnet.html">rdiffnet</a></span>(<span class="dv">1000</span>, <span class="dv">4</span>, <span class="dt">seed.graph=</span><span class="st">"scale-free"</span>, <span class="dt">seed.p.adopt =</span> .<span class="dv">025</span>,
                           <span class="dt">rewire =</span> <span class="ot">FALSE</span>, <span class="dt">seed.nodes =</span> <span class="st">"central"</span>,
                           <span class="dt">rgraph.arg=</span><span class="kw">list</span>(<span class="dt">self=</span><span class="ot">FALSE</span>, <span class="dt">m=</span><span class="dv">4</span>),
                           <span class="dt">threshold.dist =</span> <span class="cf">function</span>(id) <span class="kw">runif</span>(<span class="dv">1</span>,.<span class="dv">2</span>,.<span class="dv">4</span>))

<span class="co"># Diffusion map (no random toa)</span>
dm0 &lt;-<span class="st"> </span><span class="kw"><a href="reference/diffusionMap.html">diffusionMap</a></span>(x, <span class="dt">kde2d.args=</span><span class="kw">list</span>(<span class="dt">n=</span><span class="dv">150</span>, <span class="dt">h=</span><span class="dv">1</span>), <span class="dt">layout=</span>igraph<span class="op">::</span>layout_with_fr)

<span class="co"># Random</span>
<span class="kw"><a href="reference/diffnet-class.html">diffnet.toa</a></span>(x) &lt;-<span class="st"> </span><span class="kw">sample</span>(x<span class="op">$</span>toa, <span class="dt">size =</span> <span class="kw"><a href="reference/nvertices.html">nnodes</a></span>(x))

<span class="co"># Diffusion map (random toa)</span>
dm1 &lt;-<span class="st"> </span><span class="kw"><a href="reference/diffusionMap.html">diffusionMap</a></span>(x, <span class="dt">layout =</span> dm0<span class="op">$</span>coords, <span class="dt">kde2d.args=</span><span class="kw">list</span>(<span class="dt">n=</span><span class="dv">150</span>, <span class="dt">h=</span>.<span class="dv">5</span>))

oldpar &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)
col &lt;-<span class="st"> </span><span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="st">"white"</span>, <span class="st">"tomato"</span>))(<span class="dv">100</span>)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dt">oma=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">cex=</span>.<span class="dv">8</span>)
<span class="kw">image</span>(dm0, <span class="dt">col=</span>col, <span class="dt">main=</span><span class="st">"Non-random Times of Adoption</span><span class="ch">\n</span><span class="st">Adoption from the core."</span>)
<span class="kw">image</span>(dm1, <span class="dt">col=</span>col, <span class="dt">main=</span><span class="st">"Random Times of Adoption"</span>)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))
<span class="kw">mtext</span>(<span class="st">"Both networks have the same distribution on times of adoption"</span>, <span class="dv">1</span>,
      <span class="dt">outer =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="index_files/figure-html/plot_diffnet2%20with%20map-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(oldpar)</code></pre></div>
</div>
<div id="adopters-classification" class="section level3">
<h3 class="hasAnchor">
<a href="#adopters-classification" class="anchor"></a>Adopters classification</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">out &lt;-<span class="st"> </span><span class="kw"><a href="reference/classify_adopters.html">classify</a></span>(kfamilyDiffNet, <span class="dt">include_censored =</span> <span class="ot">TRUE</span>)
<span class="kw">ftable</span>(out)</code></pre></div>
<pre><code>##                thr Non-Adopters Very Low Thresh. Low Thresh. High Thresh. Very High Thresh.
## toa                                                                                        
## Non-Adopters               0.00             0.00        0.00         0.00              0.00
## Early Adopters             0.00            14.04        8.40         0.57              0.29
## Early Majority             0.00             5.64       11.65         5.54              2.58
## Late Majority              0.00             1.34        5.06         6.21              2.96
## Laggards                   0.00             1.53        0.00         0.00             34.19</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plotting </span>
oldpar &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)
<span class="kw">par</span>(<span class="dt">xpd=</span><span class="ot">TRUE</span>)
<span class="kw">plot</span>(out, <span class="dt">color=</span>blues9[<span class="dv">2</span><span class="op">:</span><span class="dv">6</span>], <span class="dt">las =</span> <span class="dv">2</span>, <span class="dt">xlab=</span><span class="st">"Time of Adoption"</span>,
     <span class="dt">ylab=</span><span class="st">"Threshold"</span>, <span class="dt">main=</span><span class="st">""</span>)

<span class="co"># Adding key</span>
<span class="kw">legend</span>(<span class="st">"bottom"</span>, <span class="dt">legend =</span> <span class="kw">levels</span>(out<span class="op">$</span>thr), <span class="dt">fill=</span>blues9[<span class="dv">2</span><span class="op">:</span><span class="dv">6</span>], <span class="dt">horiz =</span> <span class="ot">TRUE</span>,
       <span class="dt">cex=</span>.<span class="dv">6</span>, <span class="dt">bty=</span><span class="st">"n"</span>, <span class="dt">inset=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span>.<span class="dv">1</span>))</code></pre></div>
<p><img src="index_files/figure-html/mosaic-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(oldpar)</code></pre></div>
</div>
<div id="session-info" class="section level3">
<h3 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session info</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sessionInfo</span>()</code></pre></div>
<pre><code>## R version 3.4.4 (2018-03-15)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 14.04.5 LTS
## 
## Matrix products: default
## BLAS: /usr/lib/libblas/libblas.so.3.0
## LAPACK: /usr/lib/lapack/liblapack.so.3.0
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] netdiffuseR_1.19.999
## 
## loaded via a namespace (and not attached):
##  [1] igraph_1.2.1          Rcpp_0.12.17          rstudioapi_0.7.0-9000
##  [4] knitr_1.20            xml2_1.2.0            magrittr_1.5         
##  [7] roxygen2_6.0.1.9000   networkDynamic_0.9.0  network_1.13.0.1     
## [10] MASS_7.3-49           lattice_0.20-35       R6_2.2.2             
## [13] rlang_0.2.0.9001      stringr_1.3.1         tools_3.4.4          
## [16] grid_3.4.4            MatchIt_3.0.2         sna_2.4              
## [19] htmltools_0.3.6       commonmark_1.5        yaml_2.1.19          
## [22] rprojroot_1.3-2       digest_0.6.15         assertthat_0.2.0     
## [25] pkgdown_1.0.0.9000    crayon_1.3.4          Matrix_1.2-14        
## [28] fs_1.2.2              memoise_1.1.0         evaluate_0.10.1      
## [31] statnet.common_4.0.0  rmarkdown_1.9         stringi_1.2.2        
## [34] compiler_3.4.4        desc_1.2.0            backports_1.1.2      
## [37] boot_1.3-20           SparseM_1.77          pkgconfig_2.0.1</code></pre>
</div>
</div>
<div id="to-do-list" class="section level2">
<h2 class="hasAnchor">
<a href="#to-do-list" class="anchor"></a>To-do list</h2>
<ul>
<li>Import/Export functions for interfacing other package’s clases, in particular: <code>statnet</code> set (specially the packages <code>networkDynamic</code> and <code>ndtv</code>), <del><code>igraph</code></del> and <code>Rsiena</code>.</li>
<li>Populate the tests folder.</li>
<li><del>Use spells? (<code>select_egoalter</code> would use this)</del></li>
<li><del>Classify individuals by adoption category using early adopters, adopters, and laggards, and by threshold using very low, low, high and very high threshold (Valente 95’ p. 94).</del></li>
<li><del>Double check all functions using adjacency matrix values.</del></li>
<li><del>Remove dimnames from matrices and vectors. It is more efficient to use the ones stored in meta instead.</del></li>
<li>Implement the Bass model</li>
<li><del>Include function to import survey data (as shown on the vignettes)</del></li>
<li>Exposure based on Mahalanobis distances and also Roger Leenders on weighting exposure (internal note).</li>
<li>(2016-03-30): use <code>xspline</code> for drawing polygons &amp; edges.</li>
<li><del>(2016-04-04): Add more options to <code>exposure</code>, namely, <code>self</code> (so removes diagonal or not!).</del></li>
<li>(2016-04-19): animal behaviorists.</li>
<li>(2016-10-18): Review language throughout the manual (more than innovation).</li>
<li>(2016-10-18): Evaluate and eventually use a standard graph format (<code>network</code> for instance?).</li>
<li>(2016-10-18): Standarize graph plot methods (choose either statnet/igraph/own)</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=netdiffuseR">https://​cloud.r-project.org/​package=netdiffuseR</a>
</li>
<li>Browse source code at <br><a href="https://github.com/USCCANA/netdiffuseR">https://​github.com/​USCCANA/​netdiffuseR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/USCCANA/netdiffuseR/issues">https://​github.com/​USCCANA/​netdiffuseR/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing netdiffuseR</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>George Vega Yon <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3171-0844" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" height="16"></a> <br><small>(Rewrite functions with Rcpp, plus new features)</small>
</li>
<li>Thomas Valente <br><small class="roles"> Author, copyright holder </small>  <br><small>(R original code)</small>
</li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/USCCANA/netdiffuseR"><img src="https://travis-ci.org/USCCANA/netdiffuseR.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/gvegayon/netdiffuser"><img src="https://ci.appveyor.com/api/projects/status/6u48wgl1lqak2jum?svg=true" alt="Build status"></a></li>
<li><a href="https://codecov.io/github/USCCANA/netdiffuseR?branch=master"><img src="https://codecov.io/github/USCCANA/netdiffuseR/coverage.svg?branch=master" alt="codecov.io"></a></li>
<li><a href="http://cran.rstudio.com/web/packages/netdiffuseR/index.html"><img src="http://cranlogs.r-pkg.org/badges/netdiffuseR"></a></li>
<li><a href="http://cran.r-project.org/package=netdiffuseR"><img src="http://www.r-pkg.org/badges/version/netdiffuseR" alt="CRAN_Status_Badge"></a></li>
<li><a href="http://cran.rstudio.com/web/packages/netdiffuseR/index.html"><img src="http://cranlogs.r-pkg.org/badges/grand-total/netdiffuseR"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by George Vega Yon, Thomas Valente.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
